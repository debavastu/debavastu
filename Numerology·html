<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Numerology Calculator</title>
  <meta name="description" content="Simple numerology calculator: Life Path, Expression (Destiny), Soul Urge, Personality numbers with interpretations.">
  <style>
    :root{--bg:#0f172a;--card:#0b1220;--accent:#8b5cf6;--muted:#9aa4b2;--glass:rgba(255,255,255,0.04)}
    *{box-sizing:border-box}
    body{font-family:Inter,ui-sans-serif,system-ui,Arial,sans-serif;margin:0;background:linear-gradient(180deg,#071029 0%, #071a2b 60%);color:#e6eef6;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .container{width:100%;max-width:950px}
    header{display:flex;align-items:center;gap:16px;margin-bottom:18px}
    header h1{font-size:20px;margin:0}
    .grid{display:grid;grid-template-columns:1fr 360px;gap:18px}
    .card{background:var(--card);padding:20px;border-radius:12px;box-shadow:0 6px 30px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03)}
    form .row{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:12px}
    label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
    input[type=text], input[type=date], select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:var(--glass);color:inherit}
    button{background:var(--accent);border:0;padding:10px 14px;border-radius:10px;color:white;font-weight:600;cursor:pointer}
    .result{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:12px;border-radius:8px;margin-bottom:10px}
    .small{font-size:13px;color:var(--muted)}
    .interpret{margin-top:8px;padding:10px;border-radius:8px;background:rgba(255,255,255,0.02)}
    footer{margin-top:14px;font-size:13px;color:var(--muted)}
    @media (max-width:900px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='44' height='44' viewBox='0 0 24 24' fill='none'><circle cx='12' cy='12' r='10' fill='%238b5cf6'/><text x='50%' y='54%' font-size='10' text-anchor='middle' fill='white' font-family='Arial'>NV</text></svg>" alt="logo" style="width:44px;height:44px;border-radius:10px;object-fit:cover"/>
      <div>
        <h1>Numerology — Instant Calculator</h1>
        <div class="small">Calculate Life Path, Expression (Destiny), Soul Urge, and Personality numbers with short interpretations.</div>
      </div>
    </header>

    <div class="grid">
      <main class="card">
        <form id="numForm" autocomplete="off" novalidate>
          <div class="row">
            <div style="flex:1;min-width:160px">
              <label for="fullname">Full name (as on birth certificate)</label>
              <input type="text" id="fullname" placeholder="e.g. Maria Elena Rodrigues" required>
            </div>
            <div style="width:180px">
              <label for="dob">Date of birth</label>
              <input type="date" id="dob" required>
            </div>
          </div>

          <div class="row">
            <div style="flex:1">
              <label for="method">Reduction method</label>
              <select id="method">
                <option value="master">Allow master numbers (11,22,33)</option>
                <option value="reduce">Reduce to single digit</option>
              </select>
            </div>
            <div style="width:160px">
              <label>&nbsp;</label>
              <button id="calcBtn" type="button">Calculate</button>
            </div>
          </div>

          <div id="errors" class="small" style="color:#ffb4b4;margin-top:6px"></div>

          <hr style="border:none;border-top:1px solid rgba(255,255,255,0.03);margin:16px 0">

          <div id="resultsArea" style="display:none">
            <div class="result">
              <strong>Life Path</strong> <span id="lifePathNum" style="float:right;font-weight:700"></span>
              <div class="interpret" id="lifePathInterpret"></div>
            </div>

            <div class="result">
              <strong>Expression / Destiny</strong> <span id="expressionNum" style="float:right;font-weight:700"></span>
              <div class="interpret" id="expressionInterpret"></div>
            </div>

            <div class="result">
              <strong>Soul Urge (Vowels)</strong> <span id="soulNum" style="float:right;font-weight:700"></span>
              <div class="interpret" id="soulInterpret"></div>
            </div>

            <div class="result">
              <strong>Personality (Consonants)</strong> <span id="personalityNum" style="float:right;font-weight:700"></span>
              <div class="interpret" id="personalityInterpret"></div>
            </div>

            <footer>Tip: Use the exact birth name to compute Expression/Destiny accurately.</footer>
          </div>
        </form>
      </main>

      <aside class="card">
        <h3 style="margin-top:0">How it works</h3>
        <p class="small">Life Path: add digits of your full date of birth (DD+MM+YYYY) and reduce (unless master numbers allowed).</p>
        <p class="small">Expression/Destiny: convert all letters to numbers (Pythagorean mapping) and reduce the total.</p>
        <p class="small">Soul Urge: sum only vowels in the full name. Personality: sum only consonants.</p>
        <hr style="border:none;border-top:1px solid rgba(255,255,255,0.03);margin:12px 0">
        <div class="small"><strong>Pythagorean mapping</strong><br>A J S =1 • B K T =2 • C L U =3 • D M V =4 • E N W =5 • F O X =6 • G P Y =7 • H Q Z =8 • I R =9</div>
      </aside>
    </div>
  </div>

  <script>
    // Mapping table
    const mapping = {
      a:1,j:1,s:1,
      b:2,k:2,t:2,
      c:3,l:3,u:3,
      d:4,m:4,v:4,
      e:5,n:5,w:5,
      f:6,o:6,x:6,
      g:7,p:7,y:7,
      h:8,q:8,z:8,
      i:9,r:9
    };

    const vowels = new Set(['a','e','i','o','u']);

    function sumDigits(n){
      n = Math.abs(parseInt(n) || 0);
      let s = 0;
      while(n>0){ s += n % 10; n = Math.floor(n/10); }
      return s;
    }

    function reduceNumber(num, method){
      if(method === 'master'){
        // if num is 11,22,33 keep as is; otherwise reduce to 1-9
        while(num>9 && num!==11 && num!==22 && num!==33){
          num = num.toString().split('').reduce((a,b)=>a+Number(b),0);
        }
        return num;
      } else {
        while(num>9){
          num = num.toString().split('').reduce((a,b)=>a+Number(b),0);
        }
        return num;
      }
    }

    function calcLifePath(dob, method){
      if(!dob) return null;
      const d = new Date(dob + 'T00:00:00');
      if(isNaN(d)) return null;
      const day = d.getDate();
      const month = d.getMonth()+1;
      const year = d.getFullYear();
      let total = 0;
      // add separate components as digits
      const comp = String(day).padStart(2,'0') + String(month).padStart(2,'0') + String(year);
      for(const ch of comp){ total += Number(ch); }
      return reduceNumber(total, method);
    }

    function lettersToNumber(str){
      let total = 0;
      for(const ch of str.toLowerCase()){
        if(mapping[ch]) total += mapping[ch];
      }
      return total;
    }

    function sumVowels(str){
      let total=0;
      for(const ch of str.toLowerCase()){
        if(vowels.has(ch) && mapping[ch]) total += mapping[ch];
      }
      return total;
    }

    function sumConsonants(str){
      let total=0;
      for(const ch of str.toLowerCase()){
        if(!vowels.has(ch) && /[a-z]/.test(ch) && mapping[ch]) total += mapping[ch];
      }
      return total;
    }

    function interpretNumber(title, num){
      const texts = {
        1: 'Leadership, independence, ambition, strong will.',
        2: 'Cooperation, sensitivity, diplomacy, partnerships.',
        3: 'Creativity, expression, sociability, optimism.',
        4: 'Practicality, discipline, hard work, stability.',
        5: 'Freedom, change, adventure, curiosity.',
        6: 'Responsibility, family, service, nurturing.',
        7: 'Analysis, spirituality, introspection, learning.',
        8: 'Power, abundance, business, material success.',
        9: 'Compassion, humanitarianism, completion, generosity.',
        11: 'Intuition, spiritual insight, inspirational leader (Master number).',
        22: 'Master builder, large-scale success, manifestation (Master number).',
        33: 'Teacher / Healer energy — rare master vibration.'
      };
      return texts[num] || 'No interpretation available for this number.';
    }

    document.getElementById('calcBtn').addEventListener('click', ()=>{
      const fullname = document.getElementById('fullname').value.trim();
      const dob = document.getElementById('dob').value;
      const method = document.getElementById('method').value;
      const errorsEl = document.getElementById('errors');
      errorsEl.textContent = '';

      if(!fullname){ errorsEl.textContent = 'Please enter the full name.'; return; }
      if(!dob){ errorsEl.textContent = 'Please select your date of birth.'; return; }

      const life = calcLifePath(dob, method);
      const exprTotal = lettersToNumber(fullname);
      const expr = reduceNumber(exprTotal, method);
      const soulTotal = sumVowels(fullname);
      const soul = reduceNumber(soulTotal, method);
      const persTotal = sumConsonants(fullname);
      const pers = reduceNumber(persTotal, method);

      // show results
      document.getElementById('resultsArea').style.display = 'block';
      document.getElementById('lifePathNum').textContent = life || '-';
      document.getElementById('expressionNum').textContent = expr || '-';
      document.getElementById('soulNum').textContent = soul || '-';
      document.getElementById('personalityNum').textContent = pers || '-';

      document.getElementById('lifePathInterpret').textContent = interpretNumber('Life Path', life);
      document.getElementById('expressionInterpret').textContent = interpretNumber('Expression', expr);
      document.getElementById('soulInterpret').textContent = interpretNumber('Soul Urge', soul);
      document.getElementById('personalityInterpret').textContent = interpretNumber('Personality', pers);

      // small analytics: show totals in console (no data sent anywhere)
      console.log({dob, day:dob, exprTotal, soulTotal, persTotal});
    });

    // Allow Enter key in inputs to trigger calculation
    document.getElementById('numForm').addEventListener('keydown', (e)=>{
      if(e.key === 'Enter'){
        e.preventDefault();
        document.getElementById('calcBtn').click();
      }
    });
  </script>
</body>
</html>
