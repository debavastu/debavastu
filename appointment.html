<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Book an Appointment | DebaVastu</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<!-- Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

<style>
  body {
    margin: 0;
    background: #eaf2ff;
    font-family: 'Poppins', sans-serif;
    color: #003d8f;
  }

  .header {
    background: #003d8f;
    padding: 15px 0;
    text-align: center;
    color: white;
    font-weight: 600;
    letter-spacing: 0.5px;
  }

  .container {
    max-width: 600px;
    background: rgba(255, 255, 255, 0.9);
    margin: 40px auto;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.15);
    backdrop-filter: blur(10px);
    border-top: 5px solid #003d8f;
    animation: fadeIn 0.8s ease-in-out;
  }

  h2 {
    text-align: center;
    margin-bottom: 5px;
  }

  p.sub {
    text-align: center;
    font-size: 14px;
    margin-bottom: 25px;
    color: #003060;
  }

  /* Floating Label System */
  .floating-group {
    position: relative;
    margin-bottom: 22px;
  }

  .floating-group input,
  .floating-group select,
  .floating-group textarea {
    width: 100%;
    padding: 14px 12px 10px 12px;
    border: 1.5px solid #aac7f3;
    border-radius: 8px;
    font-size: 15px;
    background: white;
  }

  .floating-group textarea {
    height: 100px;
  }

  .floating-group label {
    position: absolute;
    left: 14px;
    top: 12px;
    color: #6b8bb5;
    font-size: 15px;
    pointer-events: none;
    transition: 0.25s ease;
    background: white;
    padding: 0 4px;
  }

  .floating-group input:focus + label,
  .floating-group input:not(:placeholder-shown) + label,
  .floating-group textarea:focus + label,
  .floating-group textarea:not(:placeholder-shown) + label,
  .floating-group select:focus + label,
  .floating-group select:not([value=""]) + label {
    top: -8px;
    left: 10px;
    font-size: 12px;
    color: #003d8f;
  }

  /* Error message */
  .error-text {
    color: #e40000;
    font-size: 13px;
    margin-top: -12px;
    margin-bottom: 8px;
    display: none;
  }

  input.error, select.error, textarea.error {
    border-color: #e40000 !important;
  }

  .btn {
    width: 100%;
    padding: 14px;
    background: #003d8f;
    color: white;
    font-size: 16px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: 0.3s;
  }

  .btn:hover {
    background: #002b60;
    transform: translateY(-2px);
  }

  #whatsappBtn {
    display: block;
    text-align: center;
    color: #00a884;
    margin-top: 15px;
    font-weight: 600;
    font-size: 15px;
    text-decoration: none;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>
</head>

<body>

<div class="header">Book an Appointment</div>

<div class="container">

  <h2>Fill Your Details</h2>
  <p class="sub">Professional Vastu ‚Ä¢ Astrology ‚Ä¢ Numerology ‚Ä¢ Tarot ‚Ä¢ Healing</p>

  <form id="appointmentForm" action="https://formspree.io/f/mqawnlwo" method="POST" onsubmit="validateForm(event)">

    <!-- Full Name -->
    <div class="floating-group">
      <input type="text" id="fullName" name="Full Name" placeholder=" " />
      <label for="fullName">Full Name</label>
    </div>
    <p class="error-text" id="fullNameError">Please enter your name</p>

    <!-- Email -->
    <div class="floating-group">
      <input type="email" id="email" name="Email" placeholder=" " />
      <label for="email">Email</label>
    </div>
    <p class="error-text" id="emailError">Please enter a valid email</p>

    <!-- Phone -->
    <div class="floating-group">
      <input type="text" id="phone" name="Phone" maxlength="10" placeholder=" " />
      <label for="phone">Phone (10 digits)</label>
    </div>
    <p class="error-text" id="phoneError">Enter 10 digit phone number</p>

    <!-- Service -->
    <div class="floating-group">
      <select id="service" name="Service">
        <option value=""></option>
        <option value="Vastu Consultation">Vastu Consultation</option>
        <option value="Astrological Solutions">Astrological Solutions</option>
        <option value="Numerology Consultation">Numerology Consultation</option>
        <option value="Tarot Reader">Tarot Reader</option>
        <option value="Healing Therapy">Healing Therapy</option>
      </select>
      <label for="service">Select Service</label>
    </div>
    <p class="error-text" id="serviceError">Please select a service</p>

    <!-- Date -->
    <div class="floating-group">
      <input type="date" id="date" name="Preferred Date" placeholder=" " />
      <label for="date">Preferred Date</label>
    </div>
    <p class="error-text" id="dateError">Please select a valid date</p>

    <!-- Time -->
    <div class="floating-group">
      <input type="time" id="time" name="Preferred Time" placeholder=" " />
      <label for="time">Preferred Time</label>
    </div>
    <p class="error-text" id="timeError">Please select a valid time</p>

    <!-- Message -->
    <div class="floating-group">
      <textarea id="message" name="Message" placeholder=" "></textarea>
      <label for="message">Your Message</label>
    </div>

    <button type="submit" class="btn">Book Appointment</button>
  </form>

  <a id="whatsappBtn" href="#">Or message us directly on WhatsApp: +91 6372710439</a>

</div>

<!-- JAVASCRIPT -->
<script>
// Block past dates
const dateInput = document.getElementById("date");
const today = new Date().toISOString().split("T")[0];
dateInput.setAttribute("min", today);

// Block past time for today
const timeInput = document.getElementById("time");
dateInput.addEventListener("change", () => {
  const now = new Date();
  if (dateInput.value === today) {
    let hh = now.getHours().toString().padStart(2, '0');
    let mm = now.getMinutes().toString().padStart(2, '0');
    timeInput.min = `${hh}:${mm}`;
  } else {
    timeInput.min = "00:00";
  }
});

// Real-time clear error
document.addEventListener("input", (e) => {
  const id = e.target.id;
  if (document.getElementById(id + "Error")) {
    document.getElementById(id).classList.remove("error");
    document.getElementById(id + "Error").style.display = "none";
  }
});

// Validation
function showError(id, msg) {
  document.getElementById(id).classList.add("error");
  const err = document.getElementById(id + "Error");
  err.innerText = msg;
  err.style.display = "block";
}

function validateForm(event) {
  let valid = true;

  const name = fullName.value.trim();
  const emailVal = email.value.trim();
  const phoneVal = phone.value.trim();
  const srv = service.value.trim();
  const dt = date.value;
  const tm = time.value;

  if (name === "") { showError("fullName", "Full name required"); valid = false; }
  if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailVal)) { showError("email", "Invalid email"); valid = false; }
  if (!/^[0-9]{10}$/.test(phoneVal)) { showError("phone", "Enter 10 digit phone"); valid = false; }
  if (srv === "") { showError("service", "Select a service"); valid = false; }
  if (dt === "") { showError("date", "Select date"); valid = false; }
  if (tm === "") { showError("time", "Select time"); valid = false; }

  if (!valid) event.preventDefault();
}

// WhatsApp Autofill
document.getElementById("whatsappBtn").addEventListener("click", function (e) {
  e.preventDefault();

  const name = fullName.value;
  const srv = service.value;
  const dt = date.value;
  const tm = time.value;
  const msg = message.value;

  let text = `Hello, I want to book an appointment.%0A%0A`;
  if (name) text += `üë§ Name: ${name}%0A`;
  if (srv) text += `üìå Service: ${srv}%0A`;
  if (dt) text += `üìÖ Date: ${dt}%0A`;
  if (tm) text += `‚è∞ Time: ${tm}%0A`;
  if (msg) text += `%0Aüí¨ Message: ${msg}%0A`;

  window.open(`https://wa.me/916372710439?text=${text}`, "_blank");
});
</script>

</body>
</html>
